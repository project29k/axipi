{% extends 'AxipiSearchBundle::base.html.twig' %}

{% block main %}
    <!-- Blog -->
    <div class="row">
        <div class="col-lg-12">
            {{ convertText(page.attribute('description')|raw) }}

            <form method="get" class="form-inline">
                <div class="form-group">
                    <input class="form-control" type="text" name="q" value="{{ request.get('q') }}">
                </div>
                <button type="submit" class="btn btn-default">OK</button>
            </form>

            {% if hits is defined %}
                {% for result in hits.hits %}
                    <div class="media">
                        <div class="media-body">
                            <h4 class="media-heading"><a href="{{ buildLink({language: result._source.language.code, slug: result._source.slug}) }}">{{ result._source.title }}</a></h4>
                            {% if result._score is defined %}
                                <p><em>{{ result._score }}</em></p>
                            {% endif %}
                            {% if page.attribute('all_languages') %}
                                <p><em>{{ result._source.language.title }}</em></p>
                            {% endif %}
                            {% if result.highlight.description[0] is defined %}
                                <p>{{ result.highlight.description[0]|raw }}</p>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </div>
    <!-- Blog (end) -->
{% endblock %}

{% block meta %}
    {{ parent() }}
    {{ page.meta|raw }}
{% endblock %}

{% block style %}
    {{ parent() }}
    {{ page.style|raw }}
{% endblock %}

{% block script %}
    {{ parent() }}
    {{ page.script|raw }}
{% endblock %}
